# Node Redisson

> ä¸­æ–‡ | [English](README.md)

NodeRedisson æ˜¯ä¸€ä¸ª Node.js çš„ Redis åˆ†å¸ƒå¼é”ï¼Œæ˜“äºä½¿ç”¨ã€é«˜å¯ç”¨ã€‚

å‚è€ƒäº† Java Redisson çš„åˆ†å¸ƒå¼é”å®ç°ï¼Œå¯ä»¥ä¸ Java Redisson çš„é”ç›¸äº’å…¼å®¹ã€‚

## ä¸ºä»€ä¹ˆè¦å¼€å‘ NodeRedisson

é€šå¸¸ Node.js çš„å¼€å‘è€…ä¼šä½¿ç”¨ [Node Redlock](https://github.com/mike-marcacci/node-redlock) ä½œä¸ºåˆ†å¸ƒå¼é”ï¼Œä½†è¯¥é¡¹ç›®ä¼¼ä¹å·²ç»ä¸å†ç»´æŠ¤ã€‚

ä¸” `node-redlock` ä¸æ˜¯å¾ˆå®¹æ˜“ä½¿ç”¨ï¼Œåœ¨ä½¿ç”¨å®ƒæ—¶ï¼Œæ‚¨éœ€è¦éå¸¸å…³æ³¨é”çš„æŒæœ‰æ—¶é—´ï¼Œéœ€è¦å¯¹é”çš„æŒæœ‰æ—¶é—´è¿›è¡Œé¢„åˆ¤ï¼Œå¹¶æ‰‹åŠ¨è¿›è¡Œé”çš„ç»­æœŸæ“ä½œï¼Œä½†åœ¨å®é™…çš„ä¸šåŠ¡å¼€å‘ä¸­ï¼Œå¯¹é”æŒæœ‰æ—¶é—´åšå‡ºé«˜æ•ˆçš„é¢„åˆ¤æ˜¯éå¸¸å›°éš¾çš„ã€‚

`Node Redisson` å®ç°äº† **çœ‹é—¨ç‹—** ä¸ **é”é‡Šæ”¾é€šçŸ¥** ç‰¹æ€§ï¼Œè®©æ‚¨ä¸å†è‹¦æ¼äºé”æŒæœ‰æ—¶é—´çš„é¢„åˆ¤ã€‚

å½“ç„¶ï¼Œæ‚¨ä¹Ÿå¯ä»¥æ‰‹åŠ¨è®¾å®šé”çš„æŒç»­æ—¶é—´ã€‚

## ç¯å¢ƒä¾èµ–

- Node.js >= 16
- Redis >= 3ï¼ˆä½¿ç”¨ PubSub ä½œä¸ºæ¶ˆæ¯å®ç°æ—¶ï¼‰

Redis ç‰ˆæœ¬ä¸æ¶ˆæ¯å®ç°å…·æœ‰ç›¸å…³æ€§ï¼Œé»˜è®¤ä½¿ç”¨ Pub/Sub æ—¶ Redis ç‰ˆæœ¬ >= 3ï¼Œä½¿ç”¨ Streams æ—¶ Redis ç‰ˆæœ¬éœ€ >= 5ã€‚

## å¿«é€Ÿä¸Šæ‰‹

### å®‰è£…

```sh
pnpm add node-redisson ioredis
```

### ä½¿ç”¨

```ts
import { Redisson } from 'node-redisson';

const redisson = new Redisson({
  redis: {
    options: {
      host: '127.0.0.1',
      port: 42800,
    },
  },
});

// åˆ›å»ºé”
const lock = redisson.getLock('Example:FirstLock');

// è·å–é”
await lock.lock();

// é‡Šæ”¾é”
await lock.unlock();
```

## æ–‡æ¡£ ğŸš§

æ–‡æ¡£æ­£åœ¨ç¼–å†™ä¸­ã€‚
